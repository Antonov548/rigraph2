CXX_STD=CXX11

PKG_CFLAGS=$(C_VISIBILITY) -g -O0 -Wall -pedantic -DIGRAPH_VERIFY_FINALLY_STACK=0 -DNCOMPLEX -DPRPACK_IGRAPH_SUPPORT=1 -Digraph_EXPORTS -Ivendor -Wno-implicit-function-declaration
PKG_CXXFLAGS=$(CXX_VISIBILITY) -g -O0 -Wall -pedantic
PKG_FFLAGS=$(F_VISIBILITY)

PKG_CPPFLAGS=-g -O0 -Wall -pedantic -DUSING_R -I. -Iinclude -Ivendor \
	-I/usr/include/libxml2 -DNDEBUG -DNTIMER -DNPRINT \
	-DINTERNAL_ARPACK \
	-DPRPACK_IGRAPH_SUPPORT -DIGRAPH_THREAD_LOCAL=/**/
	-DIGRAPH_VERIFY_FINALLY_STACK=0 -DNCOMPLEX -DPRPACK_IGRAPH_SUPPORT=1 -Digraph_EXPORTS
PKG_LIBS=-lxml2   $(LAPACK_LIBS) $(BLAS_LIBS) $(FLIBS)

all: $(SHLIB)

OBJECTS=init.o \
graphalt.o \
constructors/basic_constructors.o \
constructors/prufer.o \
misc/conversion.o \
graph/type_indexededgelist.o \
graph/caching.o \
graph/iterators.o \
graph/attributes.o \
graph/adjlist.o \
graph/type_common.o \
games/tree.o \
core/memory.o \
core/indheap.o \
core/error.o \
core/vector.o \
core/vector_ptr.o \
core/dqueue.o \
core/stack.o \
core/printing.o \
core/fixed_vectorlist.o \
core/vector_list.o \
core/sparsemat.o \
core/matrix.o \
core/matrix_list.o \
core/interruption.o \
properties/degrees.o \
properties/dag.o \
properties/trees.o \
properties/loops.o \
properties/multiplicity.o \
math/complex.o \
math/utils.o \
random/random.o \
random/rng_pcg32.o \
internal/qsort_r.o \
internal/qsort.o \
linalg/arpack.o \
vendor/uuid/R.o \
vendor/uuid/clear.o \
vendor/uuid/compare.o \
vendor/uuid/copy.o \
vendor/uuid/gen_uuid.o \
vendor/uuid/isnull.o \
vendor/uuid/pack.o \
vendor/uuid/parse.o \
vendor/uuid/unpack.o \
vendor/uuid/unparse.o \
vendor/pcg/pcg-advance-64.o \
vendor/pcg/pcg-advance-128.o \
vendor/pcg/pcg-rngs-64.o \
vendor/pcg/pcg-rngs-128.o \
vendor/pcg/pcg-output-32.o \
vendor/pcg/pcg-output-64.o \
vendor/pcg/pcg-output-128.o \
vendor/lapack/dasum.o \
vendor/lapack/daxpy.o \
vendor/lapack/dcopy.o \
vendor/lapack/ddot.o \
vendor/lapack/dgebak.o \
vendor/lapack/dgebal.o \
vendor/lapack/dgeev.o \
vendor/lapack/dgeevx.o \
vendor/lapack/dgehd2.o \
vendor/lapack/dgehrd.o \
vendor/lapack/dgemm.o \
vendor/lapack/dgemv.o \
vendor/lapack/dgeqr2.o \
vendor/lapack/dger.o \
vendor/lapack/dgesv.o \
vendor/lapack/dgetf2.o \
vendor/lapack/dgetrf.o \
vendor/lapack/dgetrs.o \
vendor/lapack/dgetv0.o \
vendor/lapack/dhseqr.o \
vendor/lapack/disnan.o \
vendor/lapack/dlabad.o \
vendor/lapack/dlacn2.o \
vendor/lapack/dlacpy.o \
vendor/lapack/dladiv.o \
vendor/lapack/dlae2.o \
vendor/lapack/dlaebz.o \
vendor/lapack/dlaev2.o \
vendor/lapack/dlaexc.o \
vendor/lapack/dlagtf.o \
vendor/lapack/dlagts.o \
vendor/lapack/dlahqr.o \
vendor/lapack/dlahr2.o \
vendor/lapack/dlaisnan.o \
vendor/lapack/dlaln2.o \
vendor/lapack/dlamch.o \
vendor/lapack/dlaneg.o \
vendor/lapack/dlange.o \
vendor/lapack/dlanhs.o \
vendor/lapack/dlanst.o \
vendor/lapack/dlansy.o \
vendor/lapack/dlanv2.o \
vendor/lapack/dlapy2.o \
vendor/lapack/dlaqr0.o \
vendor/lapack/dlaqr1.o \
vendor/lapack/dlaqr2.o \
vendor/lapack/dlaqr3.o \
vendor/lapack/dlaqr4.o \
vendor/lapack/dlaqr5.o \
vendor/lapack/dlaqrb.o \
vendor/lapack/dlaqtr.o \
vendor/lapack/dlar1v.o \
vendor/lapack/dlarf.o \
vendor/lapack/dlarfb.o \
vendor/lapack/dlarfg.o \
vendor/lapack/dlarft.o \
vendor/lapack/dlarfx.o \
vendor/lapack/dlarnv.o \
vendor/lapack/dlarra.o \
vendor/lapack/dlarrb.o \
vendor/lapack/dlarrc.o \
vendor/lapack/dlarrd.o \
vendor/lapack/dlarre.o \
vendor/lapack/dlarrf.o \
vendor/lapack/dlarrj.o \
vendor/lapack/dlarrk.o \
vendor/lapack/dlarrr.o \
vendor/lapack/dlarrv.o \
vendor/lapack/dlartg.o \
vendor/lapack/dlaruv.o \
vendor/lapack/dlascl.o \
vendor/lapack/dlaset.o \
vendor/lapack/dlasq2.o \
vendor/lapack/dlasq3.o \
vendor/lapack/dlasq4.o \
vendor/lapack/dlasq5.o \
vendor/lapack/dlasq6.o \
vendor/lapack/dlasr.o \
vendor/lapack/dlasrt.o \
vendor/lapack/dlassq.o \
vendor/lapack/dlaswp.o \
vendor/lapack/dlasy2.o \
vendor/lapack/dlatrd.o \
vendor/lapack/dmout.o \
vendor/lapack/dnaitr.o \
vendor/lapack/dnapps.o \
vendor/lapack/dnaup2.o \
vendor/lapack/dnaupd.o \
vendor/lapack/dnconv.o \
vendor/lapack/dneigh.o \
vendor/lapack/dneupd.o \
vendor/lapack/dngets.o \
vendor/lapack/dnrm2.o \
vendor/lapack/dorg2r.o \
vendor/lapack/dorghr.o \
vendor/lapack/dorgqr.o \
vendor/lapack/dorm2l.o \
vendor/lapack/dorm2r.o \
vendor/lapack/dormhr.o \
vendor/lapack/dormql.o \
vendor/lapack/dormqr.o \
vendor/lapack/dormtr.o \
vendor/lapack/dpotf2.o \
vendor/lapack/dpotrf.o \
vendor/lapack/drot.o \
vendor/lapack/dsaitr.o \
vendor/lapack/dsapps.o \
vendor/lapack/dsaup2.o \
vendor/lapack/dsaupd.o \
vendor/lapack/dscal.o \
vendor/lapack/dsconv.o \
vendor/lapack/dseigt.o \
vendor/lapack/dsesrt.o \
vendor/lapack/dseupd.o \
vendor/lapack/dsgets.o \
vendor/lapack/dsortc.o \
vendor/lapack/dsortr.o \
vendor/lapack/dstatn.o \
vendor/lapack/dstats.o \
vendor/lapack/dstebz.o \
vendor/lapack/dstein.o \
vendor/lapack/dstemr.o \
vendor/lapack/dsteqr.o \
vendor/lapack/dsterf.o \
vendor/lapack/dstqrb.o \
vendor/lapack/dswap.o \
vendor/lapack/dsyevr.o \
vendor/lapack/dsymv.o \
vendor/lapack/dsyr2.o \
vendor/lapack/dsyr2k.o \
vendor/lapack/dsyrk.o \
vendor/lapack/dsytd2.o \
vendor/lapack/dsytrd.o \
vendor/lapack/dtrevc.o \
vendor/lapack/dtrexc.o \
vendor/lapack/dtrmm.o \
vendor/lapack/dtrmv.o \
vendor/lapack/dtrsen.o \
vendor/lapack/dtrsm.o \
vendor/lapack/dtrsna.o \
vendor/lapack/dtrsv.o \
vendor/lapack/dtrsyl.o \
vendor/lapack/dvout.o \
vendor/lapack/fortran_intrinsics.o \
vendor/lapack/idamax.o \
vendor/lapack/ieeeck.o \
vendor/lapack/iladlc.o \
vendor/lapack/iladlr.o \
vendor/lapack/ilaenv.o \
vendor/lapack/iparmq.o \
vendor/lapack/ivout.o \
vendor/lapack/len_trim.o \
vendor/lapack/lsame.o \
vendor/lapack/second.o \
vendor/lapack/xerbla.o \
vendor/f2c/abort_.o \
vendor/f2c/backspac.o \
vendor/f2c/c_abs.o \
vendor/f2c/c_cos.o \
vendor/f2c/c_div.o \
vendor/f2c/c_exp.o \
vendor/f2c/c_log.o \
vendor/f2c/c_sin.o \
vendor/f2c/c_sqrt.o \
vendor/f2c/cabs.o \
vendor/f2c/close.o \
vendor/f2c/ctype.o \
vendor/f2c/d_abs.o \
vendor/f2c/d_acos.o \
vendor/f2c/d_asin.o \
vendor/f2c/d_atan.o \
vendor/f2c/d_atn2.o \
vendor/f2c/d_cnjg.o \
vendor/f2c/d_cos.o \
vendor/f2c/d_cosh.o \
vendor/f2c/d_dim.o \
vendor/f2c/d_exp.o \
vendor/f2c/d_imag.o \
vendor/f2c/d_int.o \
vendor/f2c/d_lg10.o \
vendor/f2c/d_log.o \
vendor/f2c/d_mod.o \
vendor/f2c/d_nint.o \
vendor/f2c/d_prod.o \
vendor/f2c/d_sign.o \
vendor/f2c/d_sin.o \
vendor/f2c/d_sinh.o \
vendor/f2c/d_sqrt.o \
vendor/f2c/d_tan.o \
vendor/f2c/d_tanh.o \
vendor/f2c/derf_.o \
vendor/f2c/derfc_.o \
vendor/f2c/dfe.o \
vendor/f2c/dolio.o \
vendor/f2c/dtime_.o \
vendor/f2c/due.o \
vendor/f2c/dummy.o \
vendor/f2c/ef1asc_.o \
vendor/f2c/ef1cmc_.o \
vendor/f2c/endfile.o \
vendor/f2c/erf_.o \
vendor/f2c/erfc_.o \
vendor/f2c/err.o \
vendor/f2c/etime_.o \
vendor/f2c/exit_.o \
vendor/f2c/f77_aloc.o \
vendor/f2c/f77vers.o \
vendor/f2c/fmt.o \
vendor/f2c/fmtlib.o \
vendor/f2c/ftell_.o \
vendor/f2c/getenv_.o \
vendor/f2c/h_abs.o \
vendor/f2c/h_dim.o \
vendor/f2c/h_dnnt.o \
vendor/f2c/h_indx.o \
vendor/f2c/h_len.o \
vendor/f2c/h_mod.o \
vendor/f2c/h_nint.o \
vendor/f2c/h_sign.o \
vendor/f2c/hl_ge.o \
vendor/f2c/hl_gt.o \
vendor/f2c/hl_le.o \
vendor/f2c/hl_lt.o \
vendor/f2c/i77vers.o \
vendor/f2c/i_abs.o \
vendor/f2c/i_dim.o \
vendor/f2c/i_dnnt.o \
vendor/f2c/i_indx.o \
vendor/f2c/i_len.o \
vendor/f2c/i_mod.o \
vendor/f2c/i_nint.o \
vendor/f2c/i_sign.o \
vendor/f2c/iio.o \
vendor/f2c/ilnw.o \
vendor/f2c/inquire.o \
vendor/f2c/l_ge.o \
vendor/f2c/l_gt.o \
vendor/f2c/l_le.o \
vendor/f2c/l_lt.o \
vendor/f2c/lbitbits.o \
vendor/f2c/lbitshft.o \
vendor/f2c/lread.o \
vendor/f2c/lwrite.o \
vendor/f2c/open.o \
vendor/f2c/pow_ci.o \
vendor/f2c/pow_dd.o \
vendor/f2c/pow_di.o \
vendor/f2c/pow_hh.o \
vendor/f2c/pow_ii.o \
vendor/f2c/pow_ri.o \
vendor/f2c/pow_zi.o \
vendor/f2c/pow_zz.o \
vendor/f2c/r_abs.o \
vendor/f2c/r_acos.o \
vendor/f2c/r_asin.o \
vendor/f2c/r_atan.o \
vendor/f2c/r_atn2.o \
vendor/f2c/r_cnjg.o \
vendor/f2c/r_cos.o \
vendor/f2c/r_cosh.o \
vendor/f2c/r_dim.o \
vendor/f2c/r_exp.o \
vendor/f2c/r_imag.o \
vendor/f2c/r_int.o \
vendor/f2c/r_lg10.o \
vendor/f2c/r_log.o \
vendor/f2c/r_mod.o \
vendor/f2c/r_nint.o \
vendor/f2c/r_sign.o \
vendor/f2c/r_sin.o \
vendor/f2c/r_sinh.o \
vendor/f2c/r_sqrt.o \
vendor/f2c/r_tan.o \
vendor/f2c/r_tanh.o \
vendor/f2c/rdfmt.o \
vendor/f2c/rewind.o \
vendor/f2c/rsfe.o \
vendor/f2c/rsli.o \
vendor/f2c/rsne.o \
vendor/f2c/s_cat.o \
vendor/f2c/s_cmp.o \
vendor/f2c/s_copy.o \
vendor/f2c/s_paus.o \
vendor/f2c/s_rnge.o \
vendor/f2c/s_stop.o \
vendor/f2c/sfe.o \
vendor/f2c/sig_die.o \
vendor/f2c/signal_.o \
vendor/f2c/sue.o \
vendor/f2c/system_.o \
vendor/f2c/typesize.o \
vendor/f2c/uio.o \
vendor/f2c/util.o \
vendor/f2c/wref.o \
vendor/f2c/wrtfmt.o \
vendor/f2c/wsfe.o \
vendor/f2c/wsle.o \
vendor/f2c/wsne.o \
vendor/f2c/xwsne.o \
vendor/f2c/z_abs.o \
vendor/f2c/z_cos.o \
vendor/f2c/z_div.o \
vendor/f2c/z_exp.o \
vendor/f2c/z_log.o \
vendor/f2c/z_sin.o \
vendor/f2c/z_sqrt.o \
vendor/cs/cs_add.o \
vendor/cs/cs_amd.o \
vendor/cs/cs_chol.o \
vendor/cs/cs_cholsol.o \
vendor/cs/cs_compress.o \
vendor/cs/cs_counts.o \
vendor/cs/cs_cumsum.o \
vendor/cs/cs_dfs.o \
vendor/cs/cs_dmperm.o \
vendor/cs/cs_droptol.o \
vendor/cs/cs_dropzeros.o \
vendor/cs/cs_dupl.o \
vendor/cs/cs_entry.o \
vendor/cs/cs_ereach.o \
vendor/cs/cs_etree.o \
vendor/cs/cs_fkeep.o \
vendor/cs/cs_gaxpy.o \
vendor/cs/cs_happly.o \
vendor/cs/cs_house.o \
vendor/cs/cs_ipvec.o \
vendor/cs/cs_leaf.o \
vendor/cs/cs_load.o \
vendor/cs/cs_lsolve.o \
vendor/cs/cs_ltsolve.o \
vendor/cs/cs_lu.o \
vendor/cs/cs_lusol.o \
vendor/cs/cs_malloc.o \
vendor/cs/cs_maxtrans.o \
vendor/cs/cs_multiply.o \
vendor/cs/cs_norm.o \
vendor/cs/cs_permute.o \
vendor/cs/cs_pinv.o \
vendor/cs/cs_post.o \
vendor/cs/cs_pvec.o \
vendor/cs/cs_qr.o \
vendor/cs/cs_qrsol.o \
vendor/cs/cs_randperm.o \
vendor/cs/cs_reach.o \
vendor/cs/cs_scatter.o \
vendor/cs/cs_scc.o \
vendor/cs/cs_schol.o \
vendor/cs/cs_spsolve.o \
vendor/cs/cs_sqr.o \
vendor/cs/cs_symperm.o \
vendor/cs/cs_tdfs.o \
vendor/cs/cs_transpose.o \
vendor/cs/cs_updown.o \
vendor/cs/cs_usolve.o \
vendor/cs/cs_util.o \
vendor/cs/cs_utsolve.o